<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlertLabs - Civic Alert Management Platform</title>
    <meta name="description" content="AlertLabs - Comprehensive civic alert management platform for emergency response, community notifications, and public safety communications. Supports AMBER, Silver, Blue alerts and general purpose community alerts.">
    <meta name="keywords" content="civic alerts, emergency response, AMBER alert, Silver alert, Blue alert, community notifications, public safety, emergency management">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #dc2626;
            --secondary-color: #f59e0b;
            --accent-color: #3b82f6;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--gray-800);
            background: var(--gray-50);
            font-size: 16px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Header & Navigation */
        .header {
            background: var(--primary-color);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .logo {
            font-size: 1.75rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-icon {
            width: 2rem;
            height: 2rem;
            background: white;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-weight: 800;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 0.75rem 1.25rem;
            border-radius: 0.75rem;
            transition: all 0.2s;
            font-weight: 500;
            position: relative;
        }

        .nav-links a:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-1px);
        }

        .nav-links a.active {
            background: rgba(255,255,255,0.2);
            font-weight: 600;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, #b91c1c 100%);
            color: white;
            padding: 5rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="90" cy="10" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="10" cy="90" r="1.5" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
            line-height: 1.1;
        }

        .hero p {
            font-size: 1.25rem;
            max-width: 700px;
            margin: 0 auto 2.5rem;
            opacity: 0.95;
            line-height: 1.5;
        }

        /* Buttons */
        .btn {
            background: white;
            color: var(--primary-color);
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 0.75rem;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background: var(--gray-600);
            color: white;
        }

        .btn-outline {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-outline:hover {
            background: white;
            color: var(--primary-color);
        }

        /* Sections */
        .section {
            padding: 5rem 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 1rem;
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: var(--gray-600);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Alert Cards */
        .alerts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .alert-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .alert-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-color);
        }

        .alert-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border-color: var(--primary-color);
        }

        .alert-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
        }

        .alert-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
        }

        .alert-type {
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .alert-status {
            background: var(--warning-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .alert-status.active {
            background: var(--success-color);
        }

        .alert-status.expired {
            background: var(--gray-400);
        }

        .alert-description {
            color: var(--gray-600);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .alert-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: var(--gray-500);
            margin-bottom: 1.5rem;
        }

        /* Alert Creation Form */
        .alert-form-container {
            background: white;
            border-radius: 1.5rem;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            max-width: 800px;
            margin: 0 auto;
        }

        .form-section {
            margin-bottom: 2rem;
        }

        .form-section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--gray-100);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--gray-700);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.875rem;
            border: 2px solid var(--gray-200);
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* Alert Status Badges */
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-active { background: var(--success-color); color: white; }
        .status-pending { background: var(--warning-color); color: white; }
        .status-expired { background: var(--gray-400); color: white; }
        .status-cancelled { background: var(--danger-color); color: white; }

        /* Emergency Indicators */
        .emergency-indicator {
            background: linear-gradient(135deg, #fee2e2, #fca5a5);
            border: 2px solid #dc2626;
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            margin: 2rem 0;
        }

        .emergency-title {
            font-size: 2rem;
            font-weight: 700;
            color: #dc2626;
            margin-bottom: 0.5rem;
        }

        .emergency-subtitle {
            color: #dc2626;
            font-size: 1.1rem;
        }

        /* Public Alert Display */
        .public-alert {
            background: white;
            border-radius: 1.5rem;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            border: 2px solid var(--primary-color);
        }

        .alert-banner {
            background: var(--primary-color);
            color: white;
            padding: 1rem;
            border-radius: 1rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .alert-banner.amber { background: #f59e0b; }
        .alert-banner.silver { background: #6b7280; }
        .alert-banner.blue { background: #1e40af; }

        .alert-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .info-section {
            background: var(--gray-50);
            border-radius: 1rem;
            padding: 2rem;
        }

        .info-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 1rem;
        }

        .info-item {
            margin-bottom: 1rem;
        }

        .info-label {
            font-weight: 600;
            color: var(--gray-700);
            display: inline-block;
            width: 120px;
        }

        /* Social Sharing */
        .social-share {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .social-btn {
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .social-twitter { background: #1da1f2; color: white; }
        .social-facebook { background: #1877f2; color: white; }
        .social-email { background: var(--gray-600); color: white; }
        .social-sms { background: var(--success-color); color: white; }

        .social-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        /* Admin Panel */
        .admin-panel {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            border: 2px solid var(--gray-200);
            z-index: 1000;
        }

        .admin-btn {
            background: var(--warning-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .admin-btn:hover {
            background: #d97706;
            transform: translateY(-1px);
        }

        .admin-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 2rem;
        }

        .admin-modal {
            background: white;
            border-radius: 1.5rem;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0,0,0,0.25);
        }

        .admin-header {
            padding: 2rem 2rem 0;
            border-bottom: 1px solid var(--gray-200);
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
        }

        .admin-subtitle {
            color: var(--gray-600);
        }

        .admin-body {
            padding: 2rem;
        }

        .admin-form {
            display: grid;
            gap: 2rem;
        }

        .admin-section {
            background: var(--gray-50);
            border-radius: 1rem;
            padding: 1.5rem;
        }

        .admin-section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--gray-200);
        }

        /* Loading & Error States */
        .loading {
            text-align: center;
            padding: 4rem;
            color: var(--gray-500);
        }

        .error {
            background: #fee2e2;
            color: #dc2626;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            border-left: 4px solid #dc2626;
        }

        .success {
            background: #dcfce7;
            color: #166534;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            border-left: 4px solid #16a34a;
        }

        /* Footer */
        .footer {
            background: var(--gray-900);
            color: white;
            padding: 4rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .footer-section p,
        .footer-section a {
            color: var(--gray-400);
            text-decoration: none;
            line-height: 1.6;
        }

        .footer-section a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid var(--gray-800);
            color: var(--gray-400);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .alerts-grid {
                grid-template-columns: 1fr;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .admin-panel {
                position: relative;
                top: auto;
                right: auto;
                margin: 1rem;
            }
        }

        /* Alert Type Specific Styling */
        .amber-alert { border-left: 4px solid #f59e0b; }
        .silver-alert { border-left: 4px solid #6b7280; }
        .blue-alert { border-left: 4px solid #1e40af; }
        .general-alert { border-left: 4px solid #059669; }

        /* Emergency Styling */
        .emergency-active {
            background: linear-gradient(135deg, #fee2e2, #fca5a5) !important;
            border: 2px solid #dc2626 !important;
        }

        .emergency-badge {
            background: #dc2626;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Simple version without Fireproof for now
        console.log('Loading AlertLabs template...');
        
        // Configuration
            let config = {
                orgName: "AlertLabs",
                primaryColor: "#dc2626",
                contactEmail: "alerts@example.com",
                logoUrl: "",
                organizationType: "Emergency Management",
                jurisdiction: "City/County",
                alertTypes: [
                    {
                        id: 'amber',
                        name: 'AMBER Alert',
                        description: 'Child abduction emergencies',
                        color: '#f59e0b',
                        criteria: 'Children ≤ 17, believed to be in imminent danger',
                        requiredFields: ['subject', 'vehicle', 'lastKnownLocation'],
                        urgency: 'critical'
                    },
                    {
                        id: 'silver',
                        name: 'Silver Alert',
                        description: 'Missing senior citizens with dementia or cognitive impairment',
                        color: '#6b7280',
                        criteria: 'Person with Alzheimer\'s/dementia or cognitive decline at risk',
                        requiredFields: ['subject', 'lastKnownLocation'],
                        urgency: 'high'
                    },
                    {
                        id: 'blue',
                        name: 'Blue Alert',
                        description: 'Law enforcement officer harmed, suspect at large',
                        color: '#1e40af',
                        criteria: 'Violent suspect who killed or seriously injured officer, still at large',
                        requiredFields: ['subject', 'vehicle', 'lastKnownLocation'],
                        urgency: 'critical'
                    },
                    {
                        id: 'ashanti',
                        name: 'Ashanti Alert',
                        description: 'Missing adults (ages 18–64)',
                        color: '#7c3aed',
                        criteria: 'Abducted adults in immediate danger',
                        requiredFields: ['subject', 'lastKnownLocation'],
                        urgency: 'high'
                    },
                    {
                        id: 'clear',
                        name: 'CLEAR Alert',
                        description: 'Missing or abducted adults in immediate danger',
                        color: '#059669',
                        criteria: 'Adults 18–64 missing in danger',
                        requiredFields: ['subject', 'lastKnownLocation'],
                        urgency: 'high'
                    },
                    {
                        id: 'ema',
                        name: 'Endangered Missing Alert',
                        description: 'Any missing person in danger or with vulnerabilities',
                        color: '#ef4444',
                        criteria: 'Missing person of any age under dangerous conditions',
                        requiredFields: ['subject', 'lastKnownLocation'],
                        urgency: 'high'
                    },
                    {
                        id: 'camo',
                        name: 'Camo Alert',
                        description: 'Missing current or former military/veterans',
                        color: '#166534',
                        criteria: 'Missing veteran or military-affiliated with mental health issues',
                        requiredFields: ['subject', 'lastKnownLocation'],
                        urgency: 'medium'
                    },
                    {
                        id: 'turquoise',
                        name: 'Turquoise Alert',
                        description: 'Missing endangered tribal or Indigenous persons',
                        color: '#0891b2',
                        criteria: 'Missing endangered tribal persons under 65 under suspicious conditions',
                        requiredFields: ['subject', 'lastKnownLocation'],
                        urgency: 'high'
                    },
                    {
                        id: 'national',
                        name: 'National Alert',
                        description: 'Major national emergency',
                        color: '#dc2626',
                        criteria: 'National emergencies, natural disasters, security threats',
                        requiredFields: ['description', 'scope'],
                        urgency: 'critical'
                    },
                    {
                        id: 'disaster',
                        name: 'Local Disaster Alert',
                        description: 'Natural disasters, evacuations, active threats',
                        color: '#f59e0b',
                        criteria: 'Floods, tornadoes, active threats, evacuations',
                        requiredFields: ['description', 'scope'],
                        urgency: 'critical'
                    },
                    {
                        id: 'general',
                        name: 'General Community Alert',
                        description: 'Community notifications, lost pets, general warnings',
                        color: '#059669',
                        criteria: 'Community notifications, lost pets, general warnings',
                        requiredFields: ['title', 'description'],
                        urgency: 'low'
                    }
                ],
                currentUser: null,
                activeAlerts: []
            };

            // Load config from localStorage or use defaults
            const savedConfig = localStorage.getItem('alertlabs-config');
            if (savedConfig) {
                config = { ...config, ...JSON.parse(savedConfig) };
            }

            // Update CSS custom properties
            function updateTheme() {
                document.documentElement.style.setProperty('--primary-color', config.primaryColor);
            }

            updateTheme();

            function AlertLabsApp() {
                const [activeTab, setActiveTab] = React.useState('home');
                const [showAdmin, setShowAdmin] = React.useState(false);
                const [currentUser, setCurrentUser] = React.useState(config.currentUser);
                const [alerts, setAlerts] = React.useState([]);
                const [selectedAlertType, setSelectedAlertType] = React.useState(null);
                const [emergencyMode, setEmergencyMode] = React.useState(false);

                // Load alerts from Fireproof
                React.useEffect(() => {
                    const loadAlerts = async () => {
                        try {
                            const { docs } = database.useLiveQuery("_id", { descending: true });
                            setAlerts(docs || []);
                        } catch (error) {
                            console.error('Error loading alerts:', error);
                        }
                    };
                    loadAlerts();
                }, []);

                const handleCreateAlert = async (alertData) => {
                    try {
                        const alertType = config.alertTypes.find(t => t.id === alertData.alertType);
                        const alertId = alertData.alertType.toUpperCase() + "-" + Date.now();

                        const { submit } = database.useDocument({
                            id: alertId,
                            alertType: alertData.alertType,
                            title: alertData.title,
                            issuedAt: new Date().toISOString(),
                            issuingAgency: config.orgName,
                            scope: alertData.scope,
                            status: 'Active',
                            description: alertData.description,
                            subject: alertData.subject,
                            vehicle: alertData.vehicle,
                            lastKnownLocation: alertData.lastKnownLocation,
                            lastKnownTime: alertData.lastKnownTime,
                            dangerIndicator: alertData.dangerIndicator,
                            safetyInstructions: alertData.safetyInstructions,
                            photos: alertData.photos || [],
                            externalLinks: alertData.externalLinks || [],
                            languages: alertData.languages || ['English'],
                            createdBy: currentUser?.id || 'anonymous',
                            auditTrail: [{
                                action: "created",
                                timestamp: new Date().toISOString(),
                                user: currentUser?.name || 'Anonymous',
                                details: "Alert created"
                            }]
                        });

                        await submit();

                        // Refresh alerts
                        const { docs } = database.useLiveQuery("_id", { descending: true });
                        setAlerts(docs || []);

                        setActiveTab('alerts');
                        alert('Alert created successfully!');
                    } catch (error) {
                        console.error('Error creating alert:', error);
                        alert('Error creating alert. Please try again.');
                    }
                };

                const handleSaveConfig = (newConfig) => {
                    config = { ...config, ...newConfig };
                    localStorage.setItem('alertlabs-config', JSON.stringify(config));
                    updateTheme();
                    setShowAdmin(false);
                };

                const getAlertById = (id) => alerts.find(alert => alert.id === id);

                return (
                    <div>
                        {/* Header */}
                        <header className="header">
                            <div className="nav">
                                <div className="logo">
                                    <div className="logo-icon">🚨</div>
                                    {config.orgName}
                                </div>
                                <nav className="nav-links">
                                    <a href="#" onClick={() => setActiveTab('home')} className={activeTab === 'home' ? 'active' : ''}>Home</a>
                                    <a href="#" onClick={() => setActiveTab('alerts')} className={activeTab === 'alerts' ? 'active' : ''}>Active Alerts</a>
                                    <a href="#" onClick={() => setActiveTab('create')} className={activeTab === 'create' ? 'active' : ''}>Create Alert</a>
                                    <a href="#" onClick={() => setActiveTab('manage')} className={activeTab === 'manage' ? 'active' : ''}>Manage</a>
                                </nav>
                            </div>
                        </header>

                        {/* Admin Panel Button */}
                        <div className="admin-panel">
                            <button className="admin-btn" onClick={() => setShowAdmin(true)}>
                                ⚙️ Admin
                            </button>
                        </div>

                        {/* Emergency Mode Indicator */}
                        {emergencyMode && (
                            <div className="emergency-indicator">
                                <div className="emergency-title">🚨 EMERGENCY MODE ACTIVE</div>
                                <div className="emergency-subtitle">Critical incident response in progress</div>
                            </div>
                        )}

                        {/* Main Content */}
                        <main>
                            {/* Home Tab */}
                            {activeTab === 'home' && (
                                <div>
                                    <div className="hero">
                                        <div className="container">
                                            <div className="hero-content">
                                                <h1>Welcome to {config.orgName}</h1>
                                                <p>Your comprehensive civic alert management platform for emergency response, community notifications, and public safety communications</p>
                                                <div style={{display: 'flex', gap: '1rem', justifyContent: 'center', flexWrap: 'wrap'}}>
                                                    <button className="btn btn-primary" onClick={() => setActiveTab('alerts')}>
                                                        View Active Alerts
                                                    </button>
                                                    <button className="btn btn-outline" onClick={() => setActiveTab('create')}>
                                                        Create New Alert
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Quick Stats */}
                                    <section className="section">
                                        <div className="container">
                                            <div style={{
                                                display: 'grid',
                                                gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
                                                gap: '2rem',
                                                marginBottom: '3rem'
                                            }}>
                                                <div style={{
                                                    background: 'white',
                                                    borderRadius: '1rem',
                                                    padding: '2rem',
                                                    textAlign: 'center',
                                                    boxShadow: '0 4px 20px rgba(0,0,0,0.05)',
                                                    border: '2px solid var(--gray-100)'
                                                }}>
                                                    <div style={{fontSize: '3rem', marginBottom: '1rem'}}>🚨</div>
                                                    <h3 style={{fontSize: '2rem', fontWeight: '700', color: 'var(--primary-color)'}}>
                                                        {alerts.filter(a => a.status === 'Active').length}
                                                    </h3>
                                                    <p style={{color: 'var(--gray-600)'}}>Active Alerts</p>
                                                </div>

                                                <div style={{
                                                    background: 'white',
                                                    borderRadius: '1rem',
                                                    padding: '2rem',
                                                    textAlign: 'center',
                                                    boxShadow: '0 4px 20px rgba(0,0,0,0.05)',
                                                    border: '2px solid var(--gray-100)'
                                                }}>
                                                    <div style={{fontSize: '3rem', marginBottom: '1rem'}}>📢</div>
                                                    <h3 style={{fontSize: '2rem', fontWeight: '700', color: 'var(--primary-color)'}}>
                                                        {alerts.length}
                                                    </h3>
                                                    <p style={{color: 'var(--gray-600)'}}>Total Alerts</p>
                                                </div>

                                                <div style={{
                                                    background: 'white',
                                                    borderRadius: '1rem',
                                                    padding: '2rem',
                                                    textAlign: 'center',
                                                    boxShadow: '0 4px 20px rgba(0,0,0,0.05)',
                                                    border: '2px solid var(--gray-100)'
                                                }}>
                                                    <div style={{fontSize: '3rem', marginBottom: '1rem'}}>👥</div>
                                                    <h3 style={{fontSize: '2rem', fontWeight: '700', color: 'var(--primary-color)'}}>
                                                        {Math.floor(Math.random() * 1000) + 500}
                                                    </h3>
                                                    <p style={{color: 'var(--gray-600)'}}>Community Reach</p>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            )}

                            {/* Active Alerts Tab */}
                            {activeTab === 'alerts' && (
                                <section className="section">
                                    <div className="container">
                                        <div className="section-header">
                                            <h2 className="section-title">Active Civic Alerts</h2>
                                            <p className="section-subtitle">Current emergency and community notifications</p>
                                        </div>

                                        {alerts.filter(a => a.status === 'Active').length === 0 ? (
                                            <div style={{
                                                background: 'white',
                                                borderRadius: '1.5rem',
                                                padding: '4rem',
                                                textAlign: 'center',
                                                boxShadow: '0 10px 40px rgba(0,0,0,0.05)'
                                            }}>
                                                <div style={{fontSize: '4rem', marginBottom: '1rem'}}>✅</div>
                                                <h3 style={{fontSize: '1.5rem', fontWeight: '600', color: 'var(--gray-900)', marginBottom: '0.5rem'}}>
                                                    No Active Alerts
                                                </h3>
                                                <p style={{color: 'var(--gray-600)', marginBottom: '2rem'}}>
                                                    All clear! No current emergency alerts or community notifications.
                                                </p>
                                            </div>
                                        ) : (
                                            <div className="alerts-grid">
                                                {alerts.filter(a => a.status === 'Active').map(alert => {
                                                    const alertType = config.alertTypes.find(t => t.id === alert.alertType);
                                                    return (
                                                        <div key={alert.id} className={"alert-card " + alert.alertType + "-alert"}>
                                                            <div className="alert-header">
                                                                <div>
                                                                    <div className="alert-title">{alert.title}</div>
                                                                    <div className="alert-type" style={{background: alertType?.color}}>
                                                                        {alertType?.name}
                                                                    </div>
                                                                </div>
                                                                <div className={"alert-status " + alert.status.toLowerCase()}>
                                                                    {alert.status}
                                                                </div>
                                                            </div>

                                                            <div className="alert-description">{alert.description}</div>

                                                            <div className="alert-meta">
                                                                <span>📅 Issued: {new Date(alert.issuedAt).toLocaleDateString()}</span>
                                                                <span>🏛️ {alert.issuingAgency}</span>
                                                            </div>

                                                            {alert.subject && (
                                                                <div style={{marginBottom: '1rem'}}>
                                                                    <h4 style={{fontSize: '1rem', fontWeight: '600', marginBottom: '0.5rem'}}>
                                                                        Subject Information
                                                                    </h4>
                                                                    <div style={{fontSize: '0.9rem', color: 'var(--gray-600)'}}>
                                                                        {alert.subject.name && <div>Name: {alert.subject.name}</div>}
                                                                        {alert.subject.age && <div>Age: {alert.subject.age}</div>}
                                                                        {alert.subject.description && <div>Description: {alert.subject.description}</div>}
                                                                    </div>
                                                                </div>
                                                            )}

                                                            <div style={{marginTop: '1.5rem'}}>
                                                                <div style={{display: 'flex', gap: '0.5rem', flexWrap: 'wrap'}}>
                                                                    <button className="btn btn-primary" style={{fontSize: '0.9rem', padding: '0.5rem 1rem'}}>
                                                                        View Details
                                                                    </button>
                                                                    <button className="btn btn-secondary" style={{fontSize: '0.9rem', padding: '0.5rem 1rem'}}>
                                                                        Share Alert
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    );
                                                })}
                                            </div>
                                        )}
                                    </div>
                                </section>
                            )}

                            {/* Create Alert Tab */}
                            {activeTab === 'create' && (
                                <section className="section">
                                    <div className="container">
                                        <div className="section-header">
                                            <h2 className="section-title">Create New Alert</h2>
                                            <p className="section-subtitle">Create and publish civic alerts for emergency response and community notifications</p>
                                        </div>

                                        <div className="alert-form-container">
                                            <AlertCreationForm
                                                alertTypes={config.alertTypes}
                                                onSubmit={handleCreateAlert}
                                                selectedType={selectedAlertType}
                                                onTypeSelect={setSelectedAlertType}
                                            />
                                        </div>
                                    </div>
                                </section>
                            )}

                            {/* Manage Alerts Tab */}
                            {activeTab === 'manage' && (
                                <section className="section">
                                    <div className="container">
                                        <div className="section-header">
                                            <h2 className="section-title">Alert Management</h2>
                                            <p className="section-subtitle">Manage active and archived alerts</p>
                                        </div>

                                        <div style={{display: 'grid', gap: '2rem'}}>
                                            {/* Active Alerts Management */}
                                            <div style={{
                                                background: 'white',
                                                borderRadius: '1.5rem',
                                                padding: '2rem',
                                                boxShadow: '0 10px 40px rgba(0,0,0,0.05)'
                                            }}>
                                                <h3 style={{fontSize: '1.5rem', fontWeight: '600', marginBottom: '1.5rem'}}>
                                                    Active Alerts
                                                </h3>

                                                {alerts.filter(a => a.status === 'Active').length === 0 ? (
                                                    <p style={{color: 'var(--gray-600)', textAlign: 'center', padding: '2rem'}}>
                                                        No active alerts to manage
                                                    </p>
                                                ) : (
                                                    <div style={{display: 'grid', gap: '1rem'}}>
                                                        {alerts.filter(a => a.status === 'Active').map(alert => (
                                                            <div key={alert.id} style={{
                                                                background: 'var(--gray-50)',
                                                                borderRadius: '1rem',
                                                                padding: '1.5rem',
                                                                border: '2px solid var(--gray-200)'
                                                            }}>
                                                                <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                                                                    <div>
                                                                        <h4 style={{fontSize: '1.1rem', fontWeight: '600'}}>
                                                                            {alert.title}
                                                                        </h4>
                                                                        <p style={{color: 'var(--gray-600)', fontSize: '0.9rem'}}>
                                                                            {config.alertTypes.find(t => t.id === alert.alertType)?.name} •
                                                                            Issued: {new Date(alert.issuedAt).toLocaleDateString()}
                                                                        </p>
                                                                    </div>
                                                                    <div style={{display: 'flex', gap: '0.5rem'}}>
                                                                        <button className="btn btn-secondary" style={{fontSize: '0.8rem', padding: '0.5rem 1rem'}}>
                                                                            Edit
                                                                        </button>
                                                                        <button className="btn btn-outline" style={{fontSize: '0.8rem', padding: '0.5rem 1rem', color: '#dc2626'}}>
                                                                            Expire
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            )}
                        </main>

                        {/* Admin Modal */}
                        {showAdmin && (
                            <div className="admin-overlay">
                                <div className="admin-modal">
                                    <div className="admin-header">
                                        <h2 className="admin-title">AlertLabs Administration</h2>
                                        <p className="admin-subtitle">Configure your civic alert management platform</p>
                                    </div>

                                    <div className="admin-body">
                                        <form onSubmit={(e) => {
                                            e.preventDefault();
                                            const formData = new FormData(e.target);
                                            handleSaveConfig({
                                                orgName: formData.get('orgName'),
                                                primaryColor: formData.get('primaryColor'),
                                                contactEmail: formData.get('contactEmail'),
                                                logoUrl: formData.get('logoUrl'),
                                                organizationType: formData.get('organizationType'),
                                                jurisdiction: formData.get('jurisdiction'),
                                                emergencyMode: formData.get('emergencyMode') === 'on'
                                            });
                                        }} className="admin-form">
                                            <div className="admin-section">
                                                <h3 className="admin-section-title">🏛️ Organization Settings</h3>
                                                <div className="form-row">
                                                    <div className="form-group">
                                                        <label htmlFor="orgName">Organization Name</label>
                                                        <input
                                                            type="text"
                                                            id="orgName"
                                                            name="orgName"
                                                            defaultValue={config.orgName}
                                                            placeholder="Your organization name"
                                                        />
                                                    </div>

                                                    <div className="form-group">
                                                        <label htmlFor="organizationType">Organization Type</label>
                                                        <select id="organizationType" name="organizationType" defaultValue={config.organizationType}>
                                                            <option value="Police Department">Police Department</option>
                                                            <option value="Sheriff's Office">Sheriff's Office</option>
                                                            <option value="Emergency Management">Emergency Management</option>
                                                            <option value="Fire Department">Fire Department</option>
                                                            <option value="Public Safety">Public Safety</option>
                                                            <option value="Municipal Government">Municipal Government</option>
                                                            <option value="Other">Other</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div className="form-row">
                                                    <div className="form-group">
                                                        <label htmlFor="jurisdiction">Jurisdiction</label>
                                                        <input
                                                            type="text"
                                                            id="jurisdiction"
                                                            name="jurisdiction"
                                                            defaultValue={config.jurisdiction}
                                                            placeholder="City, County, or Region"
                                                        />
                                                    </div>

                                                    <div className="form-group">
                                                        <label htmlFor="contactEmail">Contact Email</label>
                                                        <input
                                                            type="email"
                                                            id="contactEmail"
                                                            name="contactEmail"
                                                            defaultValue={config.contactEmail}
                                                            placeholder="alerts@yourorg.gov"
                                                        />
                                                    </div>
                                                </div>

                                                <div className="form-group">
                                                    <label htmlFor="logoUrl">Logo URL</label>
                                                    <input
                                                        type="url"
                                                        id="logoUrl"
                                                        name="logoUrl"
                                                        defaultValue={config.logoUrl}
                                                        placeholder="https://yourorg.gov/logo.png"
                                                    />
                                                </div>
                                            </div>

                                            <div className="admin-section">
                                                <h3 className="admin-section-title">🎨 Appearance</h3>
                                                <div className="form-row">
                                                    <div className="form-group">
                                                        <label htmlFor="primaryColor">Primary Color</label>
                                                        <input
                                                            type="color"
                                                            id="primaryColor"
                                                            name="primaryColor"
                                                            defaultValue={config.primaryColor}
                                                        />
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="admin-section">
                                                <h3 className="admin-section-title">🚨 Emergency Settings</h3>
                                                <div style={{display: 'grid', gap: '1rem'}}>
                                                    <label style={{display: 'flex', alignItems: 'center', gap: '0.5rem'}}>
                                                        <input type="checkbox" name="emergencyMode" defaultChecked={config.emergencyMode} />
                                                        Enable emergency mode for critical incidents
                                                    </label>
                                                </div>
                                            </div>

                                            <div className="form-actions">
                                                <button type="button" className="btn btn-secondary" onClick={() => setShowAdmin(false)}>
                                                    Cancel
                                                </button>
                                                <button type="submit" className="btn btn-primary">
                                                    Save Configuration
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Footer */}
                        <footer className="footer">
                            <div className="container">
                                <div className="footer-content">
                                    <div className="footer-section">
                                        <h3>🚨 {config.orgName}</h3>
                                        <p>{config.organizationType} - {config.jurisdiction}. Comprehensive civic alert management for emergency response and community safety.</p>
                                        <p style={{marginTop: '1rem'}}>
                                            <strong>Contact:</strong> {config.contactEmail}
                                        </p>
                                    </div>

                                    <div className="footer-section">
                                        <h3>🚨 Alert Types</h3>
                                        <p>• AMBER Alerts (Child abductions)</p>
                                        <p>• Silver Alerts (Missing seniors)</p>
                                        <p>• Blue Alerts (Officer safety)</p>
                                        <p>• Emergency response coordination</p>
                                        <p>• Community notifications</p>
                                    </div>

                                    <div className="footer-section">
                                        <h3>🔗 Platform Features</h3>
                                        <p><a href="#" onClick={() => setActiveTab('alerts')}>Active Alerts</a></p>
                                        <p><a href="#" onClick={() => setActiveTab('create')}>Create Alerts</a></p>
                                        <p><a href="#" onClick={() => setActiveTab('manage')}>Manage Alerts</a></p>
                                        <p><a href="#" onClick={() => setShowAdmin(true)}>Admin Settings</a></p>
                                    </div>
                                </div>

                                <div className="footer-bottom">
                                    <p>&copy; 2024 {config.orgName}. Civic alert management platform powered by LabsForAmerica and Fireproof Database.</p>
                                </div>
                            </div>
                        </footer>
                    </div>
                );
            }

            // Alert Creation Form Component
            function AlertCreationForm({ alertTypes, onSubmit, selectedType, onTypeSelect }) {
                const [formData, setFormData] = React.useState({
                    alertType: '',
                    title: '',
                    scope: '',
                    description: '',
                    subject: {
                        name: '',
                        age: '',
                        gender: '',
                        race: '',
                        height: '',
                        weight: '',
                        hairColor: '',
                        eyeColor: '',
                        clothingDescription: '',
                        distinguishingMarks: ''
                    },
                    vehicle: {
                        make: '',
                        model: '',
                        licensePlate: '',
                        color: '',
                        description: ''
                    },
                    lastKnownLocation: '',
                    lastKnownTime: '',
                    dangerIndicator: false,
                    safetyInstructions: '',
                    photos: [],
                    externalLinks: [],
                    languages: ['English']
                });

                const selectedTypeInfo = alertTypes.find(t => t.id === formData.alertType);

                const handleSubmit = (e) => {
                    e.preventDefault();
                    if (formData.alertType && formData.title && formData.description) {
                        onSubmit(formData);
                        setFormData({
                            alertType: '',
                            title: '',
                            scope: '',
                            description: '',
                            subject: {
                                name: '',
                                age: '',
                                gender: '',
                                race: '',
                                height: '',
                                weight: '',
                                hairColor: '',
                                eyeColor: '',
                                clothingDescription: '',
                                distinguishingMarks: ''
                            },
                            vehicle: {
                                make: '',
                                model: '',
                                licensePlate: '',
                                color: '',
                                description: ''
                            },
                            lastKnownLocation: '',
                            lastKnownTime: '',
                            dangerIndicator: false,
                            safetyInstructions: '',
                            photos: [],
                            externalLinks: [],
                            languages: ['English']
                        });
                    }
                };

                const handleChange = (field, value) => {
                    setFormData(prev => ({ ...prev, [field]: value }));
                };

                const handleNestedChange = (section, field, value) => {
                    setFormData(prev => ({
                        ...prev,
                        [section]: {
                            ...prev[section],
                            [field]: value
                        }
                    }));
                };

                return (
                    <form onSubmit={handleSubmit}>
                        <div className="form-section">
                            <h3 className="form-section-title">Alert Type Selection</h3>
                            <div className="form-group">
                                <label htmlFor="alertType">Alert Type *</label>
                                <select
                                    id="alertType"
                                    value={formData.alertType}
                                    onChange={(e) => {
                                        handleChange('alertType', e.target.value);
                                        onTypeSelect(e.target.value);
                                    }}
                                    required
                                >
                                    <option value="">Select alert type</option>
                                    {alertTypes.map(type => (
                                        <option key={type.id} value={type.id}>
                                            {type.name} - {type.description}
                                        </option>
                                    ))}
                                </select>
                                {selectedTypeInfo && (
                                    <div style={{
                                        marginTop: '0.5rem',
                                        padding: '0.5rem',
                                        background: 'var(--gray-50)',
                                        borderRadius: '0.5rem',
                                        fontSize: '0.9rem',
                                        color: 'var(--gray-600)'
                                    }}>
                                        <strong>Criteria:</strong> {selectedTypeInfo.criteria}
                                    </div>
                                )}
                            </div>
                        </div>

                        <div className="form-section">
                            <h3 className="form-section-title">Alert Information</h3>
                            <div className="form-row">
                                <div className="form-group">
                                    <label htmlFor="title">Alert Title *</label>
                                    <input
                                        type="text"
                                        id="title"
                                        value={formData.title}
                                        onChange={(e) => handleChange('title', e.target.value)}
                                        placeholder="Brief, descriptive title"
                                        required
                                    />
                                </div>

                                <div className="form-group">
                                    <label htmlFor="scope">Geographic Scope *</label>
                                    <input
                                        type="text"
                                        id="scope"
                                        value={formData.scope}
                                        onChange={(e) => handleChange('scope', e.target.value)}
                                        placeholder="City, County, State, or specific area"
                                        required
                                    />
                                </div>
                            </div>

                            <div className="form-group">
                                <label htmlFor="description">Alert Description *</label>
                                <textarea
                                    id="description"
                                    value={formData.description}
                                    onChange={(e) => handleChange('description', e.target.value)}
                                    placeholder="Detailed description of the situation and what action is needed"
                                    required
                                    rows="4"
                                />
                            </div>
                        </div>

                        {selectedTypeInfo && selectedTypeInfo.requiredFields.includes('subject') && (
                            <div className="form-section">
                                <h3 className="form-section-title">Subject/Person Information</h3>
                                <div className="form-row">
                                    <div className="form-group">
                                        <label htmlFor="subjectName">Name</label>
                                        <input
                                            type="text"
                                            id="subjectName"
                                            value={formData.subject.name}
                                            onChange={(e) => handleNestedChange('subject', 'name', e.target.value)}
                                            placeholder="Subject name (if appropriate to share)"
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label htmlFor="subjectAge">Age</label>
                                        <input
                                            type="number"
                                            id="subjectAge"
                                            value={formData.subject.age}
                                            onChange={(e) => handleNestedChange('subject', 'age', e.target.value)}
                                            placeholder="Age"
                                        />
                                    </div>
                                </div>

                                <div className="form-row">
                                    <div className="form-group">
                                        <label htmlFor="subjectGender">Gender</label>
                                        <select
                                            id="subjectGender"
                                            value={formData.subject.gender}
                                            onChange={(e) => handleNestedChange('subject', 'gender', e.target.value)}
                                        >
                                            <option value="">Select gender</option>
                                            <option value="Male">Male</option>
                                            <option value="Female">Female</option>
                                            <option value="Other">Other</option>
                                            <option value="Unknown">Unknown</option>
                                        </select>
                                    </div>

                                    <div className="form-group">
                                        <label htmlFor="subjectRace">Race/Ethnicity</label>
                                        <input
                                            type="text"
                                            id="subjectRace"
                                            value={formData.subject.race}
                                            onChange={(e) => handleNestedChange('subject', 'race', e.target.value)}
                                            placeholder="Race/Ethnicity description"
                                        />
                                    </div>
                                </div>

                                <div className="form-row">
                                    <div className="form-group">
                                        <label htmlFor="subjectHeight">Height</label>
                                        <input
                                            type="text"
                                            id="subjectHeight"
                                            value={formData.subject.height}
                                            onChange={(e) => handleNestedChange('subject', 'height', e.target.value)}
                                            placeholder="Height (e.g., 5'8\")"
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label htmlFor="subjectWeight">Weight</label>
                                        <input
                                            type="text"
                                            id="subjectWeight"
                                            value={formData.subject.weight}
                                            onChange={(e) => handleNestedChange('subject', 'weight', e.target.value)}
                                            placeholder="Weight (e.g., 150 lbs)"
                                        />
                                    </div>
                                </div>

                                <div className="form-row">
                                    <div className="form-group">
                                        <label htmlFor="hairColor">Hair Color</label>
                                        <input
                                            type="text"
                                            id="hairColor"
                                            value={formData.subject.hairColor}
                                            onChange={(e) => handleNestedChange('subject', 'hairColor', e.target.value)}
                                            placeholder="Hair color"
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label htmlFor="eyeColor">Eye Color</label>
                                        <input
                                            type="text"
                                            id="eyeColor"
                                            value={formData.subject.eyeColor}
                                            onChange={(e) => handleNestedChange('subject', 'eyeColor', e.target.value)}
                                            placeholder="Eye color"
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label htmlFor="clothingDescription">Clothing Description</label>
                                    <textarea
                                        id="clothingDescription"
                                        value={formData.subject.clothingDescription}
                                        onChange={(e) => handleNestedChange('subject', 'clothingDescription', e.target.value)}
                                        placeholder="Describe clothing, accessories, or other distinguishing features"
                                        rows="2"
                                    />
                                </div>

                                <div className="form-group">
                                    <label htmlFor="distinguishingMarks">Distinguishing Marks</label>
                                    <textarea
                                        id="distinguishingMarks"
                                        value={formData.subject.distinguishingMarks}
                                        onChange={(e) => handleNestedChange('subject', 'distinguishingMarks', e.target.value)}
                                        placeholder="Tattoos, scars, birthmarks, or other identifying features"
                                        rows="2"
                                    />
                                </div>
                            </div>
                        )}

                        {selectedTypeInfo && selectedTypeInfo.requiredFields.includes('vehicle') && (
                            <div className="form-section">
                                <h3 className="form-section-title">Vehicle Information</h3>
                                <div className="form-row">
                                    <div className="form-group">
                                        <label htmlFor="vehicleMake">Vehicle Make</label>
                                        <input
                                            type="text"
                                            id="vehicleMake"
                                            value={formData.vehicle.make}
                                            onChange={(e) => handleNestedChange('vehicle', 'make', e.target.value)}
                                            placeholder="Vehicle make (e.g., Toyota)"
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label htmlFor="vehicleModel">Vehicle Model</label>
                                        <input
                                            type="text"
                                            id="vehicleModel"
                                            value={formData.vehicle.model}
                                            onChange={(e) => handleNestedChange('vehicle', 'model', e.target.value)}
                                            placeholder="Vehicle model (e.g., Camry)"
                                        />
                                    </div>
                                </div>

                                <div className="form-row">
                                    <div className="form-group">
                                        <label htmlFor="licensePlate">License Plate</label>
                                        <input
                                            type="text"
                                            id="licensePlate"
                                            value={formData.vehicle.licensePlate}
                                            onChange={(e) => handleNestedChange('vehicle', 'licensePlate', e.target.value)}
                                            placeholder="License plate number"
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label htmlFor="vehicleColor">Vehicle Color</label>
                                        <input
                                            type="text"
                                            id="vehicleColor"
                                            value={formData.vehicle.color}
                                            onChange={(e) => handleNestedChange('vehicle', 'color', e.target.value)}
                                            placeholder="Vehicle color"
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label htmlFor="vehicleDescription">Vehicle Description</label>
                                    <textarea
                                        id="vehicleDescription"
                                        value={formData.vehicle.description}
                                        onChange={(e) => handleNestedChange('vehicle', 'description', e.target.value)}
                                        placeholder="Additional vehicle details, modifications, or distinguishing features"
                                        rows="2"
                                    />
                                </div>
                            </div>
                        )}

                        {selectedTypeInfo && selectedTypeInfo.requiredFields.includes('lastKnownLocation') && (
                            <div className="form-section">
                                <h3 className="form-section-title">Location & Timing</h3>
                                <div className="form-row">
                                    <div className="form-group">
                                        <label htmlFor="lastKnownLocation">Last Known Location</label>
                                        <input
                                            type="text"
                                            id="lastKnownLocation"
                                            value={formData.lastKnownLocation}
                                            onChange={(e) => handleChange('lastKnownLocation', e.target.value)}
                                            placeholder="Last known location or area"
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label htmlFor="lastKnownTime">Last Known Time</label>
                                        <input
                                            type="datetime-local"
                                            id="lastKnownTime"
                                            value={formData.lastKnownTime}
                                            onChange={(e) => handleChange('lastKnownTime', e.target.value)}
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label style={{display: 'flex', alignItems: 'center', gap: '0.5rem'}}>
                                        <input
                                            type="checkbox"
                                            checked={formData.dangerIndicator}
                                            onChange={(e) => handleChange('dangerIndicator', e.target.checked)}
                                        />
                                        Person/Subject believed to be in immediate danger
                                    </label>
                                </div>
                            </div>
                        )}

                        <div className="form-section">
                            <h3 className="form-section-title">Safety Instructions & Additional Information</h3>
                            <div className="form-group">
                                <label htmlFor="safetyInstructions">Safety Instructions / Call to Action</label>
                                <textarea
                                    id="safetyInstructions"
                                    value={formData.safetyInstructions}
                                    onChange={(e) => handleChange('safetyInstructions', e.target.value)}
                                    placeholder="Instructions for public safety and what to do if person/vehicle is sighted"
                                    rows="3"
                                />
                            </div>
                        </div>

                        <div className="form-section">
                            <h3 className="form-section-title">Additional Information</h3>
                            <div className="form-group">
                                <label htmlFor="languages">Languages</label>
                                <select
                                    multiple
                                    id="languages"
                                    value={formData.languages}
                                    onChange={(e) => {
                                        const values = Array.from(e.target.selectedOptions, option => option.value);
                                        handleChange('languages', values);
                                    }}
                                    style={{minHeight: '100px'}}
                                >
                                    <option value="English">English</option>
                                    <option value="Español">Español</option>
                                    <option value="Français">Français</option>
                                    <option value="中文">中文</option>
                                    <option value="العربية">العربية</option>
                                    <option value="Other">Other</option>
                                </select>
                                <small style={{color: 'var(--gray-600)'}}>Hold Ctrl/Cmd to select multiple languages</small>
                            </div>
                        </div>

                        <div className="form-actions">
                            <button type="submit" className="btn btn-primary">
                                Create Alert
                            </button>
                        </div>
                    </form>
                );
            }

            // Render the app
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<AlertLabsApp />);
    </script>
</body>
</html>
